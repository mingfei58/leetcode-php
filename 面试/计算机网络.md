## 书籍推荐
- 图解HTTP
## 问题
### 1.TCP协议如何确保可靠性
TCP的三次握手策略
>握手过程中某个阶段异常中断后，TCP协议会再次以相同的顺序发送相同的数据包
- 发送端首先发送一个SYN码数据包给接收端
- 接收端收到后回传SYN/ACK码数据包给发送端
- 发送确认后再次回传ACK码给接收端

### 2.http报文结构
结构
- 报文首部
- 空行（CR+LF）
- 报文主体

请求报文首部
- 请求行
- 请求首部字段
- 通用首部字段
- 实体首部字段
- 其他

响应报文首部
- 状态行
- 响应首部字段
- 通用首部字段
- 实体首部字段
- 其他

### 3.ssl的安全通信机制
> HTTPS并非应用层的一种新协议。只是HTTP通信接口部分用SSL（Secure Socket Layer）和TLS（Transport Layer Security）协议代替而已。
- 客户端发送SSL请求报文
- 服务端发送证书报文
- 客户端验证证书有效性，产生随机密码串，发送带有密码串报文并使用证书公钥进行加密
- 客户端继续发送报文，通知服务端此后的报文采用随机密码串进行加密
- 客户端发送Finish报文
- 服务端收到报文后，首先通过私钥解密获取随机密码串，然后通知客户端此后的报文通信采用随机密码串进行加密
- 服务端随后发送Finish报文
- 双方的ssl连接建立完成，此后开始进行应用层协议的通信

### 4.websocket的通信机制

> 由于HTTP协议上的限制以及自身性能有限，需要一种全新的协议来突破它的性能瓶颈，SPDY协议采用多路复用流，通过单一的TCP连接，可以无限个处理多个HTTP请求。但是spdy仅限于单个域名（IP地址）的通信多路复用。WebSocket协议采用全双工通信，服务端可以直接向客户端推送信息，而无需等待客户端的请求。

- 建立HTTP连接
- 客户端发送一次握手请求，修改HTTP头部中的Upgrade首部字段，告知服务器通信协议发生改变
- 服务端作出响应，并返回101 Switching Protocols的状态码，通知客户端已完成协议切换

### 5.http/2.0技术

> HTTP围绕着主要的7项技术进行讨论，目的在于改善用户在使用Web时的速度体验。其中包括SPDY和WebSocket

### 6.web的攻击手段

> 据统计，全球大约70%的Web应用攻击都来自XSS攻击和SQL注入攻击。此外，常见的Web攻击还包括CSRF、Session劫持等手段

**XSS攻击**

XSS攻击即跨站点脚本攻击（Cross Site Script），指攻击者通过篡改网页，注入恶意的HTML脚本，在用户浏览网页时，恶意的脚本显示在正常的网页中，从而控制用户浏览器进行恶意操作的一些行为。

常见的预防措施：消毒、HttpOnly

**SQL注入攻击**

SQL注入攻击，指攻击者在HTTP请求中注入恶意的SQL命令，服务器在用请求参数构造SQL命令的同时，恶意SQL也一同被构造，并在数据库中执行。

常见的预防措施：参数绑定、消毒，关闭错误回显

**CSRF攻击**

CSRF即跨站点伪造请求（Cross Site Request Forgery），攻击者通过跨站请求，以合法用户的身份进行非法操作，如转账交易、发表评论等。其核心是利用了浏览器Cookie或服务器Session策略，盗取用户身份。

常见的预防措施：表单Token、验证码、Referer Check



### 7.输入URL回车之后，究竟发生了什么